{"ast":null,"code":"import { useState } from \"react\";\nimport axios from \"axios\";\nconst initialRequestInfo = {\n  error: null,\n  data: null,\n  loading: false\n};\nexport default function useApi(config) {\n  const [requestInfo, setRequestInfo] = useState(initialRequestInfo);\n\n  async function call() {\n    setRequestInfo({ ...initialRequestInfo,\n      loading: true\n    });\n    let response = null;\n\n    try {\n      response = await axios({\n        baseUrl: \"http://localhost:5000\",\n        ...config\n      });\n      setRequestInfo({ ...initialRequestInfo,\n        data: response.data\n      });\n    } catch (error) {\n      setRequestInfo({ ...initialRequestInfo,\n        error\n      });\n    }\n\n    if (config.onCompleted) {\n      config.onCompleted(response);\n    }\n  }\n\n  return [call, requestInfo];\n}","map":{"version":3,"sources":["C:/Users/paulo/Documents/GitHub/react-app/web/src/Components/utils/useApi.js"],"names":["useState","axios","initialRequestInfo","error","data","loading","useApi","config","requestInfo","setRequestInfo","call","response","baseUrl","onCompleted"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,kBAAkB,GAAG;AACzBC,EAAAA,KAAK,EAAE,IADkB;AAEzBC,EAAAA,IAAI,EAAE,IAFmB;AAGzBC,EAAAA,OAAO,EAAE;AAHgB,CAA3B;AAMA,eAAe,SAASC,MAAT,CAAgBC,MAAhB,EAAwB;AACrC,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAACE,kBAAD,CAA9C;;AAEA,iBAAeQ,IAAf,GAAsB;AACpBD,IAAAA,cAAc,CAAC,EACb,GAAGP,kBADU;AAEbG,MAAAA,OAAO,EAAE;AAFI,KAAD,CAAd;AAIA,QAAIM,QAAQ,GAAG,IAAf;;AACA,QAAI;AACFA,MAAAA,QAAQ,GAAG,MAAMV,KAAK,CAAC;AACrBW,QAAAA,OAAO,EAAE,uBADY;AAErB,WAAGL;AAFkB,OAAD,CAAtB;AAIAE,MAAAA,cAAc,CAAC,EACb,GAAGP,kBADU;AAEbE,QAAAA,IAAI,EAAEO,QAAQ,CAACP;AAFF,OAAD,CAAd;AAID,KATD,CASE,OAAOD,KAAP,EAAc;AACdM,MAAAA,cAAc,CAAC,EACb,GAAGP,kBADU;AAEbC,QAAAA;AAFa,OAAD,CAAd;AAID;;AAED,QAAII,MAAM,CAACM,WAAX,EAAwB;AACtBN,MAAAA,MAAM,CAACM,WAAP,CAAmBF,QAAnB;AACD;AACF;;AAED,SAAO,CAACD,IAAD,EAAOF,WAAP,CAAP;AACD","sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst initialRequestInfo = {\r\n  error: null,\r\n  data: null,\r\n  loading: false\r\n};\r\n\r\nexport default function useApi(config) {\r\n  const [requestInfo, setRequestInfo] = useState(initialRequestInfo);\r\n\r\n  async function call() {\r\n    setRequestInfo({\r\n      ...initialRequestInfo,\r\n      loading: true\r\n    });\r\n    let response = null;\r\n    try {\r\n      response = await axios({\r\n        baseUrl: \"http://localhost:5000\",\r\n        ...config\r\n      });\r\n      setRequestInfo({\r\n        ...initialRequestInfo,\r\n        data: response.data\r\n      });\r\n    } catch (error) {\r\n      setRequestInfo({\r\n        ...initialRequestInfo,\r\n        error\r\n      });\r\n    }\r\n\r\n    if (config.onCompleted) {\r\n      config.onCompleted(response);\r\n    }\r\n  }\r\n\r\n  return [call, requestInfo];\r\n}\r\n"]},"metadata":{},"sourceType":"module"}