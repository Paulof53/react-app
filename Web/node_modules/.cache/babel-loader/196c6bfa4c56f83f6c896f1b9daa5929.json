{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\paulo\\\\Documents\\\\GitHub\\\\react-app\\\\web\\\\src\\\\Components\\\\Promotion\\\\Search\\\\Search.js\";\nimport React, { useState, useEffect } from \"react\";\nimport useApi from 'Components/utils/useApi';\nimport { Link } from \"react-router-dom\";\nimport PromotionList from \"../List/List\";\nimport \"./Search.css\";\n\nconst PromotionSearch = () => {\n  const [promotions, setPromotions] = useState([]);\n  const [search, setSearch] = useState('');\n  const [load, loadInfo] = useApi({\n    url: 'http://localhost:5000/promotions',\n    method: 'get',\n    params: {\n      _embed: 'comments',\n      _order: 'desc',\n      _sort: 'id',\n      title_like: search || undefined\n    },\n    onCompleted: response => {\n      setPromotions(response.data);\n    }\n  });\n  console.log(loadInfo.data);\n  useEffect(() => {\n    load();\n  }, [search]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"promotion-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"promotion-search__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, \" Promo Show \"), \" \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 28\n    }\n  }, \" Nova Promo\\xE7\\xE3o \"), \" \"), \" \", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"search\",\n    className: \"promotion-search__input\",\n    placeholder: \"Buscar\",\n    value: search,\n    onChange: ev => setSearch(ev.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 14\n    }\n  }), \" \", /*#__PURE__*/React.createElement(PromotionList, {\n    promotions: promotions,\n    loading: !promotions.length,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 8\n    }\n  }), \" \");\n};\n\nexport default PromotionSearch;","map":{"version":3,"sources":["C:/Users/paulo/Documents/GitHub/react-app/web/src/Components/Promotion/Search/Search.js"],"names":["React","useState","useEffect","useApi","Link","PromotionList","PromotionSearch","promotions","setPromotions","search","setSearch","load","loadInfo","url","method","params","_embed","_order","_sort","title_like","undefined","onCompleted","response","data","console","log","ev","target","value","length"],"mappings":";AAAA,OAAOA,KAAP,IACEC,QADF,EAEEC,SAFF,QAGO,OAHP;AAIA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SACEC,IADF,QAEO,kBAFP;AAIA,OAAOC,aAAP,MAA0B,cAA1B;AACA,OAAO,cAAP;;AAEA,MAAMC,eAAe,GAAG,MAAM;AAC5B,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BP,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACQ,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACU,IAAD,EAAOC,QAAP,IAAmBT,MAAM,CAAC;AAC9BU,IAAAA,GAAG,EAAE,kCADyB;AAE9BC,IAAAA,MAAM,EAAE,KAFsB;AAG9BC,IAAAA,MAAM,EAAE;AACNC,MAAAA,MAAM,EAAE,UADF;AAENC,MAAAA,MAAM,EAAE,MAFF;AAGNC,MAAAA,KAAK,EAAE,IAHD;AAINC,MAAAA,UAAU,EAAEV,MAAM,IAAIW;AAJhB,KAHsB;AAS9BC,IAAAA,WAAW,EAAGC,QAAD,IAAc;AACzBd,MAAAA,aAAa,CAACc,QAAQ,CAACC,IAAV,CAAb;AACD;AAX6B,GAAD,CAA/B;AAcAC,EAAAA,OAAO,CAACC,GAAR,CAAYb,QAAQ,CAACW,IAArB;AAGArB,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,IAAI;AACL,GAFQ,EAEN,CAACF,MAAD,CAFM,CAAT;AAIA,sBAAS;AACH,IAAA,SAAS,EAAG,kBADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEP;AACO,IAAA,SAAS,EAAG,0BADnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFA,oBAGuB,oBACvB,IADuB;AAClB,IAAA,EAAE,EAAG,SADa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAHvB,MAFO,oBAOE;AACH,IAAA,IAAI,EAAG,QADJ;AAET,IAAA,SAAS,EAAG,yBAFH;AAGT,IAAA,WAAW,EAAG,QAHL;AAIT,IAAA,KAAK,EACHA,MALO;AAOT,IAAA,QAAQ,EACLiB,EAAD,IAAQhB,SAAS,CAACgB,EAAE,CAACC,MAAH,CAAUC,KAAX,CARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,oBAiBJ,oBACH,aADG;AACW,IAAA,UAAU,EACtBrB,UAFC;AAIH,IAAA,OAAO,EACL,CAACA,UAAU,CAACsB,MALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjBI,MAAT;AA2BD,CAnDD;;AAoDA,eAAevB,eAAf","sourcesContent":["import React, {\r\n  useState,\r\n  useEffect\r\n} from \"react\";\r\nimport useApi from 'Components/utils/useApi';\r\nimport {\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\nimport PromotionList from \"../List/List\";\r\nimport \"./Search.css\";\r\n\r\nconst PromotionSearch = () => {\r\n  const [promotions, setPromotions] = useState([]);\r\n  const [search, setSearch] = useState('');\r\n  const [load, loadInfo] = useApi({\r\n    url: 'http://localhost:5000/promotions',\r\n    method: 'get',\r\n    params: {\r\n      _embed: 'comments',\r\n      _order: 'desc',\r\n      _sort: 'id',\r\n      title_like: search || undefined,\r\n    },\r\n    onCompleted: (response) => {\r\n      setPromotions(response.data);\r\n    }\r\n  });\r\n\r\n  console.log(loadInfo.data);\r\n\r\n\r\n  useEffect(() => {\r\n    load();\r\n  }, [search]);\r\n\r\n  return ( <\r\n    div className = \"promotion-search\" >\r\n    <\r\n    header className = \"promotion-search__header\" >\r\n    <\r\n    h1 > Promo Show < /h1> <\r\n    Link to = \"/create\" > Nova Promoção < /Link> <\r\n    /header> <\r\n    input type = \"search\"\r\n    className = \"promotion-search__input\"\r\n    placeholder = \"Buscar\"\r\n    value = {\r\n      search\r\n    }\r\n    onChange = {\r\n      (ev) => setSearch(ev.target.value)\r\n    }\r\n    /> <\r\n    PromotionList promotions = {\r\n      promotions\r\n    }\r\n    loading = {\r\n      !promotions.length\r\n    }\r\n    /> <\r\n    /div>\r\n  );\r\n};\r\nexport default PromotionSearch;"]},"metadata":{},"sourceType":"module"}