{"ast":null,"code":"import { useState } from 'react';\nimport axios from 'axios';\nconst initialRequestInfo = {\n  error: null,\n  data: null,\n  loading: false\n};\nexport default function useApi(config) {\n  const [requestInfo, setRequestInfo] = useState(initialRequestInfo);\n\n  async function call() {\n    setRequestInfo({ ...initialRequestInfo,\n      loading: true\n    });\n    const response = await axios(config);\n    setRequestInfo({ ...initialRequestInfo,\n      data: response.data\n    });\n\n    if (config.onCompleted) {\n      config.onCompleted(response);\n    }\n  }\n\n  return [call, requestInfo];\n}","map":{"version":3,"sources":["C:/Users/paulo/Documents/GitHub/react-app/web/src/Components/utils/useApi.js"],"names":["useState","axios","initialRequestInfo","error","data","loading","useApi","config","requestInfo","setRequestInfo","call","response","onCompleted"],"mappings":"AAAA,SACIA,QADJ,QAEO,OAFP;AAGA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,kBAAkB,GAAG;AACvBC,EAAAA,KAAK,EAAE,IADgB;AAEvBC,EAAAA,IAAI,EAAE,IAFiB;AAGvBC,EAAAA,OAAO,EAAE;AAHc,CAA3B;AAMA,eAAe,SAASC,MAAT,CAAgBC,MAAhB,EAAwB;AACnC,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAACE,kBAAD,CAA9C;;AAEA,iBAAeQ,IAAf,GAAsB;AAClBD,IAAAA,cAAc,CAAC,EACX,GAAGP,kBADQ;AAEXG,MAAAA,OAAO,EAAE;AAFE,KAAD,CAAd;AAKA,UAAMM,QAAQ,GAAG,MAAMV,KAAK,CAACM,MAAD,CAA5B;AAEAE,IAAAA,cAAc,CAAC,EACX,GAAGP,kBADQ;AAEXE,MAAAA,IAAI,EAAEO,QAAQ,CAACP;AAFJ,KAAD,CAAd;;AAIA,QAAIG,MAAM,CAACK,WAAX,EAAwB;AACpBL,MAAAA,MAAM,CAACK,WAAP,CAAmBD,QAAnB;AACH;AAEJ;;AAED,SAAO,CACHD,IADG,EAEHF,WAFG,CAAP;AAIH","sourcesContent":["import {\r\n    useState\r\n} from 'react';\r\nimport axios from 'axios';\r\n\r\nconst initialRequestInfo = {\r\n    error: null,\r\n    data: null,\r\n    loading: false,\r\n};\r\n\r\nexport default function useApi(config) {\r\n    const [requestInfo, setRequestInfo] = useState(initialRequestInfo)\r\n\r\n    async function call() {\r\n        setRequestInfo({\r\n            ...initialRequestInfo,\r\n            loading: true,\r\n        });\r\n\r\n        const response = await axios(config);\r\n\r\n        setRequestInfo({\r\n            ...initialRequestInfo,\r\n            data: response.data,\r\n        });\r\n        if (config.onCompleted) {\r\n            config.onCompleted(response);\r\n        }\r\n\r\n    }\r\n\r\n    return [\r\n        call,\r\n        requestInfo\r\n    ]\r\n}"]},"metadata":{},"sourceType":"module"}